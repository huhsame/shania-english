# ğŸš€ ì›”ìš”ì¼ ë°ëª¨ë²„ì „ ì‘ì—…ëª©ë¡ (ë‹¤ì´ì–¼ë¡œê·¸ ë²„ì „)

## Day 1 (í† ìš”ì¼) - Backend API ê°œë°œ

### ğŸ”§ Backend í™˜ê²½ ì„¤ì • (30ë¶„)
```
â–¡ User ì—”í‹°í‹°ì— ì»¬ëŸ¼ ì¶”ê°€
  - personalization_info: TEXT
  - goodnote_email: VARCHAR
â–¡ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„± ë° ì‹¤í–‰
```

### ğŸ“¡ Backend API ê°œë°œ (4ì‹œê°„)
```
â–¡ src/user/ í´ë” êµ¬ì¡° ìƒì„±
  - user.controller.ts
  - user.service.ts
  - dto/user-profile.dto.ts
  - dto/update-personalization.dto.ts

â–¡ ì‚¬ìš©ì í”„ë¡œí•„ API êµ¬í˜„
  GET /api/user/profile
  Response: { email, name, personalizationInfo?, goodNoteEmail? }

â–¡ ê°œì¸í™” ì •ë³´ ì €ì¥ API êµ¬í˜„
  PUT /api/user/personalization
  Body: { personalizationInfo: string, goodNoteEmail?: string }

â–¡ N8N ì›¹í›… ì „ì†¡ API êµ¬í˜„ (4ê°œ í•„ë“œ)
  POST /api/webhook/send-to-n8n
  Body: {
    url: string,           // í•„ìˆ˜
    personalization: string, // í•„ìˆ˜  
    googleEmail: string,     // í•„ìˆ˜
    goodNoteEmail?: string   // ì„ íƒ
  }
```

### ğŸ§ª Backend í…ŒìŠ¤íŠ¸ (1ì‹œê°„)
```
â–¡ API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
â–¡ N8N ì›¹í›… 4ê°œ í•„ë“œ ì „ì†¡ í…ŒìŠ¤íŠ¸
```

---

## Day 2 (ì¼ìš”ì¼) - Frontend ë‹¤ì´ì–¼ë¡œê·¸ ê°œë°œ

### ğŸ  í™ˆ í˜ì´ì§€ ìˆ˜ì • (1ì‹œê°„)
```
â–¡ src/app/page.tsx ìˆ˜ì •
  - ë§í¬ ì…ë ¥ í…ìŠ¤íŠ¸ ì¸í’‹
  - ì‹œì‘í•˜ê¸° ë²„íŠ¼
  - ë¡œê·¸ì¸ ìƒíƒœ ë¶„ê¸° ë¡œì§:
    if (ë¡œê·¸ì¸ë¨) â†’ ê°œì¸í™” ë‹¤ì´ì–¼ë¡œê·¸ ì—´ê¸°
    else â†’ Google ë¡œê·¸ì¸ íŒì—… â†’ ê°œì¸í™” ë‹¤ì´ì–¼ë¡œê·¸ ì—´ê¸°
```

### ğŸ“‹ ë‹¤ì´ì–¼ë¡œê·¸ ì»´í¬ë„ŒíŠ¸ë“¤ êµ¬í˜„ (3ì‹œê°„)

#### 1) ê°œì¸í™” ì •ë³´ ì…ë ¥ ë‹¤ì´ì–¼ë¡œê·¸ (1ì‹œê°„)
```
â–¡ src/components/PersonalizationDialog.tsx ìƒì„±
  - ì¥ë¬¸ í…ìŠ¤íŠ¸ ì…ë ¥ (textarea)
  - í”Œë ˆì´ìŠ¤í™€ë” ì˜ˆì‹œ í…ìŠ¤íŠ¸
  - ê¸°ì¡´ ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸° ë¡œì§
  - ë‹¤ìŒ ë²„íŠ¼ â†’ ì´ë©”ì¼ ë‹¤ì´ì–¼ë¡œê·¸ ì—´ê¸°
  - ì·¨ì†Œ ë²„íŠ¼ â†’ ë‹¤ì´ì–¼ë¡œê·¸ ë‹«ê¸°
```

#### 2) ì´ë©”ì¼ ì„¤ì • ë‹¤ì´ì–¼ë¡œê·¸ (1ì‹œê°„)
```
â–¡ src/components/EmailSetupDialog.tsx ìƒì„±
  - GoodNote ì´ë©”ì¼ ì…ë ¥ í…ìŠ¤íŠ¸ ì¸í’‹
  - í™•ì¸ ë²„íŠ¼, ìŠ¤í‚µ ë²„íŠ¼
  - ê¸°ì¡´ goodNoteEmail ìˆìœ¼ë©´ ë¯¸ë¦¬ ì±„ìš°ê¸°
  - í™•ì¸/ìŠ¤í‚µ â†’ N8N ì›¹í›… ì „ì†¡ â†’ ì™„ë£Œ í˜ì´ì§€ë¡œ ì´ë™
```

#### 3) ë‹¤ì´ì–¼ë¡œê·¸ ìƒíƒœ ê´€ë¦¬ (1ì‹œê°„)
```
â–¡ í™ˆ í˜ì´ì§€ì—ì„œ ë‹¤ì´ì–¼ë¡œê·¸ ìƒíƒœ ê´€ë¦¬
  - const [showPersonalizationDialog, setShowPersonalizationDialog] = useState(false)
  - const [showEmailDialog, setShowEmailDialog] = useState(false)
  - ë‹¨ê³„ë³„ ë°ì´í„° ì „ë‹¬ ë¡œì§
```

---

## Day 3 (ì›”ìš”ì¼) - ì™„ë£Œ í˜ì´ì§€ & ë§ˆë¬´ë¦¬

### ğŸ‰ ì™„ë£Œ í˜ì´ì§€ êµ¬í˜„ (1ì‹œê°„)
```
â–¡ src/app/processing/page.tsx ìƒì„±
  - ë¡œë”© ìŠ¤í”¼ë„ˆ ì• ë‹ˆë©”ì´ì…˜
  - "AIê°€ ì—´ì‹¬íˆ ë§Œë“œëŠ” ì¤‘ì…ë‹ˆë‹¤!" ë©”ì‹œì§€
  - "ë©”ì¼ë¡œ ë³´ë‚´ë“œë¦´ê²Œìš”!" ì•ˆë‚´
  - í™ˆìœ¼ë¡œ ì´ë™ ë²„íŠ¼
```

### ğŸ”— ì „ì²´ í”Œë¡œìš° ì—°ë™ (1ì‹œê°„)
```
â–¡ í™ˆ â†’ ë‹¤ì´ì–¼ë¡œê·¸ë“¤ â†’ ì™„ë£Œ í˜ì´ì§€ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
â–¡ N8N ì›¹í›… 4ê°œ í•„ë“œ ì „ì†¡ í™•ì¸
â–¡ ê¸°ì¡´ ì‚¬ìš©ì ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° í…ŒìŠ¤íŠ¸
```

### ğŸ› ë²„ê·¸ ìˆ˜ì • & ìŠ¤íƒ€ì¼ë§ (1ì‹œê°„)
```
â–¡ ë‹¤ì´ì–¼ë¡œê·¸ ì• ë‹ˆë©”ì´ì…˜ ì ìš©
â–¡ ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§ ì¶”ê°€
â–¡ ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ë§
```

---

## ğŸ“± **UI í”Œë¡œìš° (ë‹¤ì´ì–¼ë¡œê·¸ ë²„ì „)**

### 1. í™ˆ í˜ì´ì§€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        í—¤ë” (ë¡œê·¸ì¸ ìƒíƒœ)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        ìƒ¤ë‹ˆì•„ ì‰ê¸€ë¦¬ì‹œ          â”‚
â”‚                                 â”‚
â”‚  ë¶„ì„í•  ë§í¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ https://www.example.com    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚        [ì‹œì‘í•˜ê¸° ë²„íŠ¼]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ê°œì¸í™” ì •ë³´ ë‹¤ì´ì–¼ë¡œê·¸ (ì˜¤ë²„ë ˆì´)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         [X ë‹«ê¸°]               â”‚
â”‚    ì˜ˆë¬¸ ìƒì„±ì„ ìœ„í•œ ì •ë³´ ì…ë ¥    â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ì˜ì–´ ìˆ˜ì¤€: ì¤‘ê¸‰             â”‚ â”‚
â”‚  â”‚ ì§ì—…: ê°œë°œì               â”‚ â”‚
â”‚  â”‚ ...                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚     [ì·¨ì†Œ]      [ë‹¤ìŒ]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ì´ë©”ì¼ ì„¤ì • ë‹¤ì´ì–¼ë¡œê·¸ (ì˜¤ë²„ë ˆì´)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         [X ë‹«ê¸°]               â”‚
â”‚      GoodNote ì´ë©”ì¼ ì„¤ì •       â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ your-goodnote@email.com    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚     [ìŠ¤í‚µ]      [í™•ì¸]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ì™„ë£Œ í˜ì´ì§€ (í˜ì´ì§€ ì´ë™)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ğŸ¤– AI ì‘ì—… ì¤‘          â”‚
â”‚      [ë¡œë”© ìŠ¤í”¼ë„ˆ]              â”‚
â”‚   AIê°€ ì—´ì‹¬íˆ ë§Œë“œëŠ” ì¤‘ì…ë‹ˆë‹¤!   â”‚
â”‚     ë©”ì¼ë¡œ ë³´ë‚´ë“œë¦´ê²Œìš”!        â”‚
â”‚        [í™ˆìœ¼ë¡œ ì´ë™]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ **ìƒì„±í•  íŒŒì¼ ëª©ë¡**

### Backend (ë™ì¼)
```
backend/src/
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ user.controller.ts
â”‚   â”œâ”€â”€ user.service.ts
â”‚   â””â”€â”€ dto/
â”œâ”€â”€ webhook/
â”‚   â”œâ”€â”€ webhook.controller.ts
â”‚   â”œâ”€â”€ webhook.service.ts
â”‚   â””â”€â”€ dto/
```

### Frontend (ë‹¤ì´ì–¼ë¡œê·¸ ë²„ì „)
```
frontend/src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx               # í™ˆ (ë§í¬ ì…ë ¥ + ë‹¤ì´ì–¼ë¡œê·¸ë“¤)
â”‚   â””â”€â”€ processing/
â”‚       â””â”€â”€ page.tsx           # ì™„ë£Œ í˜ì´ì§€
â””â”€â”€ components/
    â”œâ”€â”€ PersonalizationDialog.tsx
    â”œâ”€â”€ EmailSetupDialog.tsx
    â””â”€â”€ LoadingSpinner.tsx
```

---

## ğŸ”§ **í•µì‹¬ êµ¬í˜„ ë¡œì§**

### í™ˆ í˜ì´ì§€ ë‹¤ì´ì–¼ë¡œê·¸ ê´€ë¦¬
```typescript
// page.tsx
const [showPersonalizationDialog, setShowPersonalizationDialog] = useState(false);
const [showEmailDialog, setShowEmailDialog] = useState(false);
const [formData, setFormData] = useState({
  url: '',
  personalization: '',
  goodNoteEmail: ''
});

const handleStartClick = () => {
  if (!isLoggedIn) {
    triggerGoogleLogin().then(() => {
      setShowPersonalizationDialog(true);
    });
  } else {
    setShowPersonalizationDialog(true);
  }
};
```

### N8N ì›¹í›… ì „ì†¡ (4ê°œ í•„ë“œ)
```typescript
// webhook.service.ts
async sendToN8N(data) {
  const payload = {
    url: data.url,                    // í•„ìˆ˜
    personalization: data.personalization, // í•„ìˆ˜
    googleEmail: data.googleEmail,     // í•„ìˆ˜
    goodNoteEmail: data.goodNoteEmail  // ì„ íƒ (ì—†ìœ¼ë©´ undefined/null)
  };
  
  // N8Nìœ¼ë¡œ ì „ì†¡
}
```

---

## âœ… **ì„±ê³µ ê¸°ì¤€**
- í™ˆì—ì„œ ë‹¤ì´ì–¼ë¡œê·¸ë“¤ì´ ìˆœì„œëŒ€ë¡œ ì—´ë¦¼
- N8N ì›¹í›… 4ê°œ í•„ë“œ ì •ìƒ ì „ì†¡
- ê¸°ì¡´ ì‚¬ìš©ì ë°ì´í„° ë‹¤ì´ì–¼ë¡œê·¸ì— ë¯¸ë¦¬ ì±„ì›Œì§
- ì™„ë£Œ í˜ì´ì§€ë¡œ ì •ìƒ ì´ë™

**ë‹¤ì´ì–¼ë¡œê·¸ UIê°€ ë” ê¹”ë”í•˜ê³  ì‚¬ìš©ì ê²½í—˜ì´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”!**